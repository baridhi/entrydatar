<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Download data from the County Business Pattern (CBP) • entrydatar</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Download data from the County Business Pattern (CBP)">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">entrydatar</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/bartik.html">How to build a shock using lagged industry shares (Bartik)</a>
    </li>
    <li>
      <a href="../articles/bds.html">Download data from Business Dynamics Statistics</a>
    </li>
    <li>
      <a href="../articles/bed.html">Business Employment Dynamics</a>
    </li>
    <li>
      <a href="../articles/cbp.html">Download data from the County Business Pattern (CBP)</a>
    </li>
    <li>
      <a href="../articles/nbf.html">Load from the BEA Survey of Current Business</a>
    </li>
    <li>
      <a href="../articles/qcew.html">Download data from the Quarterly Census of Employment and Wages (QCEW)</a>
    </li>
    <li>
      <a href="../articles/qwi.html">Download data from the Quarterly Workforce Indicator (QWI)</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/eloualiche/entrydatar">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Download data from the County Business Pattern (CBP)</h1>
                        <h4 class="author">Erik Loualiche</h4>
            
            <h4 class="date">2019-04-27</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/eloualiche/entrydatar/blob/master/vignettes/cbp.Rmd"><code>vignettes/cbp.Rmd</code></a></small>
      <div class="hidden name"><code>cbp.Rmd</code></div>

    </div>

    
    
<p>We download data from the County Business Pattern (CBP). Data is available for the period from <strong>1986</strong> to <strong>2014</strong> at an annual frequency.</p>
<p>The most detailed cut of the data incorporates size, county (zipcode since 1994) and industry (4 digits) employment and businesses.</p>
<p>The data is directly retrieved from the Census <a href="http://www.census.gov/programs-surveys/cbp.html">website</a></p>
<p>For example if we would like the raw data:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(entrydatar)</a>
<a class="sourceLine" id="cb1-2" title="2">dt_raw &lt;-<span class="st"> </span><span class="kw"><a href="../reference/download_all_cbp.html">download_all_cbp</a></span>(<span class="dv">1990</span>, <span class="dv">1990</span>)</a>
<a class="sourceLine" id="cb1-3" title="3">dt_raw</a></code></pre></div>
<p>The data is by default aggregated at the county level. I allow different level of aggregations using variable <code>aggregation_level</code>. The <code>aggregation_level</code> variable is detailed in a table below. Calling variable without the default is now:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1">dt_county_level   &lt;-<span class="st"> </span><span class="kw"><a href="../reference/download_all_cbp.html">download_all_cbp</a></span>(<span class="dv">1990</span>, <span class="dv">1990</span>,</a>
<a class="sourceLine" id="cb2-2" title="2">                                      <span class="dt">aggregation_level =</span> <span class="st">"county"</span>)</a>
<a class="sourceLine" id="cb2-3" title="3">dt_national_level &lt;-<span class="st"> </span><span class="kw"><a href="../reference/download_all_cbp.html">download_all_cbp</a></span>(<span class="dv">1990</span>, <span class="dv">1990</span>,</a>
<a class="sourceLine" id="cb2-4" title="4">                                      <span class="dt">aggregation_level =</span> <span class="st">"US"</span>)</a></code></pre></div>
<div id="some-more-information-about-data-layout-and-availability" class="section level3">
<h3 class="hasAnchor">
<a href="#some-more-information-about-data-layout-and-availability" class="anchor"></a>Some more information about data layout and availability</h3>
<ul>
<li>By Geography:
<ul>
<li>Metro area data start with 1993.</li>
<li>ZIP Code data start with 1994</li>
<li>Congressional District data started in 2013.</li>
<li>LFO breakout for States starts with 2010.</li>
<li>Island Area data and LFO breakout for U.S. start with 2008.</li>
<li>Puerto Rico data start with 1998.</li>
</ul>
</li>
<li>By Industry:
<ul>
<li>4-digit SIC code from 1986 to 1997</li>
<li>6-digit NAICS code from 1998 to 2014. New flags added after 2007.</li>
</ul>
</li>
</ul>
<table class="table"><tbody>
<tr class="odd">
<td>| Variable Name | Description |</td>
</tr>
<tr class="even">
<td>|—————————|———————————-|</td>
</tr>
<tr class="odd">
<td>| | |</td>
</tr>
<tr class="even">
<td>| Variable | |</td>
</tr>
<tr class="odd">
<td>| <code>emp</code> | Total Mid-March Employees |</td>
</tr>
<tr class="even">
<td>| <code>qp1</code> | First Quarter Payroll ($1,000) |</td>
</tr>
<tr class="odd">
<td>| <code>ap</code> | Total Annual Payroll ($1,000) |</td>
</tr>
<tr class="even">
<td>| <code>est</code> | Total Number of establishments |</td>
</tr>
<tr class="odd">
<td>| | |</td>
</tr>
<tr class="even">
<td>| Size | |</td>
</tr>
<tr class="odd">
<td>| <code>N1_4</code> | 1-4 Employee Size Class |</td>
</tr>
<tr class="even">
<td>| <code>N5_9</code> | 5-9 Employee Size Class |</td>
</tr>
<tr class="odd">
<td>| <code>N10_19</code> | 10-19 Employee Size Class |</td>
</tr>
<tr class="even">
<td>| <code>N20_49</code> | 20-49 Employee Size Class |</td>
</tr>
<tr class="odd">
<td>| <code>N50_99</code> | 50-99 Employee Size Class |</td>
</tr>
<tr class="even">
<td>| <code>N100_249</code> | 100-249 Employee Size Class |</td>
</tr>
<tr class="odd">
<td>| <code>N250_499</code> | 250-499 Employee Size Class |</td>
</tr>
<tr class="even">
<td>| <code>N500_999</code> | 500-999 Employee Size Class |</td>
</tr>
<tr class="odd">
<td>| <code>N1000</code> | 1000 or More Employee Size Class |</td>
</tr>
<tr class="even">
<td>| <code>N1000_1</code> | 1000-1499 Employee Size Class |</td>
</tr>
<tr class="odd">
<td>| <code>N1000_2</code> | 1500-2499 Employee Size Class |</td>
</tr>
<tr class="even">
<td>| <code>N1000_3</code> | 2500-4999 Employee Size Class |</td>
</tr>
<tr class="odd">
<td>| <code>N1000_4</code> | 5000 or More Employee Size Class |</td>
</tr>
<tr class="even">
<td>| | |</td>
</tr>
<tr class="odd">
<td>| Flags | |</td>
</tr>
<tr class="even">
<td>| <code>empflag</code> | Size class replaced withheld |</td>
</tr>
<tr class="odd">
<td>| | emp and payroll replaced by 0 |</td>
</tr>
<tr class="even">
<td>| <code>fipstate</code> | FIPS State Code |</td>
</tr>
<tr class="odd">
<td>| <code>fipcscty</code> | FIPCS County Code |</td>
</tr>
<tr class="even">
<td>| <code>censtate</code> | Census State Code |</td>
</tr>
<tr class="odd">
<td>| <code>cencty</code> | Census County Code |</td>
</tr>
</tbody></table>
<p>Informative flags are the <code>empflag</code> about data suppression. It denotes employment size class for data withheld to avoid disclosure (confidentiality) or withheld because data do not meet publication standards. The aggregate size class is indicated by letters from <code>a</code> to <code>m</code>. <code>lfo</code> informs about the legal organizational form of the firms considered. Definitions of the flags are in the following table:</p>
<table class="table"><tbody>
<tr class="odd">
<td>| Data Flag | Description |</td>
</tr>
<tr class="even">
<td>|—————————-|—————————————-|</td>
</tr>
<tr class="odd">
<td>| | |</td>
</tr>
<tr class="even">
<td>| Employment Flag | |</td>
</tr>
<tr class="odd">
<td>| <code>EMPFLAG</code> | |</td>
</tr>
<tr class="even">
<td>| <code>a</code> | 0-19 |</td>
</tr>
<tr class="odd">
<td>| <code>b</code> | 20-99 |</td>
</tr>
<tr class="even">
<td>| <code>c</code> | 100-249 |</td>
</tr>
<tr class="odd">
<td>| <code>e</code> | 250-499 |</td>
</tr>
<tr class="even">
<td>| <code>f</code> | 500-999 |</td>
</tr>
<tr class="odd">
<td>| <code>g</code> | 1,000-2,499 |</td>
</tr>
<tr class="even">
<td>| <code>h</code> | 2,500-4,999 |</td>
</tr>
<tr class="odd">
<td>| <code>i</code> | 5,000-9,999 |</td>
</tr>
<tr class="even">
<td>| <code>j</code> | 10,000-24,999 |</td>
</tr>
<tr class="odd">
<td>| <code>k</code> | 25,000-49,999 |</td>
</tr>
<tr class="even">
<td>| <code>l</code> | 50,000-99,999 |</td>
</tr>
<tr class="odd">
<td>| <code>m</code> | 100,000 or More |</td>
</tr>
<tr class="even">
<td>| | |</td>
</tr>
<tr class="odd">
<td>| Legal Form of Organization | |</td>
</tr>
<tr class="even">
<td>| <code>LFO</code> | |</td>
</tr>
<tr class="odd">
<td>| <code>-</code> | All Establishments |</td>
</tr>
<tr class="even">
<td>| <code>C</code> | Corporations |</td>
</tr>
<tr class="odd">
<td>| <code>Z</code> | S-Corporations |</td>
</tr>
<tr class="even">
<td>| <code>S</code> | Sole Proprietorships |</td>
</tr>
<tr class="odd">
<td>| <code>P</code> | Partnerships |</td>
</tr>
<tr class="even">
<td>| <code>N</code> | Non-Profits |</td>
</tr>
<tr class="odd">
<td>| <code>G</code> | Government |</td>
</tr>
<tr class="even">
<td>| <code>O</code> | Other |</td>
</tr>
<tr class="odd">
<td>| | |</td>
</tr>
<tr class="even">
<td>| Noise Flag | |</td>
</tr>
<tr class="odd">
<td>| <code>EMP_NF</code> | Total Mid-March Employees Noise Flag |</td>
</tr>
<tr class="even">
<td>| <code>QP1_NF</code> | Total First Quarter Payroll Noise Flag |</td>
</tr>
<tr class="odd">
<td>| <code>AP_NF</code> | Total Annual Payroll Noise Flag |</td>
</tr>
<tr class="even">
<td>| <code>G</code> | 0 to &lt; 2% noise (low noise) |</td>
</tr>
<tr class="odd">
<td>| <code>H</code> | 2 to &lt; 5% noise (low noise) |</td>
</tr>
<tr class="even">
<td>| <code>D</code> | |</td>
</tr>
<tr class="odd">
<td>| <code>D</code> | Withheld (see records layout) |</td>
</tr>
<tr class="even">
<td>| <code>S</code> | Withheld (see records layout) |</td>
</tr>
</tbody></table>
</div>
<div id="to-download-different-version-of-the-dataset-the-match-is" class="section level2">
<h2 class="hasAnchor">
<a href="#to-download-different-version-of-the-dataset-the-match-is" class="anchor"></a>To Download different version of the dataset the match is:</h2>
<table class="table">
<thead><tr class="header">
<th>Aggregation Argument</th>
<th>Description</th>
<th>Data layout</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>county</code></td>
<td>county level (default)</td>
<td></td>
</tr>
<tr class="even">
<td><code>US</code></td>
<td>national</td>
<td><a href="../tables/us_lfo_layout.txt">US</a></td>
</tr>
<tr class="odd">
<td><code>MSA</code></td>
<td>metropolitan area</td>
<td><a href="../tables/metro_area_layout,txt">MSA</a></td>
</tr>
<tr class="even">
<td><code>state</code></td>
<td>state level</td>
<td><a href="../tables/state_x_lfo_layout.txt">State</a></td>
</tr>
</tbody>
</table>
<hr>
<hr>
<p>For something a bit tidier we gather the data around year, geography, industry and size. <em>Not yet implemented</em>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="co"># dt_tidy &lt;- entrydatar::tidy_cbp(dt_raw, 1990, 1990)</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="co"># dt_tidy</span></a></code></pre></div>
<hr>
<ol start="3" style="list-style-type: lower-alpha">
<li>Erik Loualiche</li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#to-download-different-version-of-the-dataset-the-match-is">To Download different version of the dataset the match is:</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Erik Loualiche.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9000.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
